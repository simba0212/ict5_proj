<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ict5.db.DAO">

	<select id="memberlist" resultType="com.ict5.db.VO">
		select * from MEMBER_T
	</select>

	<select id="loginChk" parameterType="com.ict5.db.VO"
		resultType="com.ict5.db.VO">
		select * from
		MEMBER_T where member_id = #{member_id} and
		member_pw=#{member_pw}
	</select>

	<select id="getNotice" resultType="com.ict5.db.VO">
		select * from notice order by
		notice_num desc
	</select>

	<select id="getClassList" resultType="com.ict5.db.VO">
		select * from class order
		by notice_num desc
	</select>
	<select id="mostclose" parameterType="com.ict5.db.VO"
		resultType="com.ict5.db.VO">
		select * from bookedclass where member_num = #{member_num}
		and rownum = 1
	</select>

	<select id="getCoachList" resultType="com.ict5.db.VO">
		select * from teacher order by teacher_num
	</select>

	<insert id="teacherIns" parameterType="com.ict5.db.VO">
		insert into teacher(
							teacher_num,
							teacher_name,
							teacher_phone,
							teacher_addr,
							teacher_gen,
							teacher_career,
							teacher_img,
							teacher_type)
		values(
							teacher_seq.nextval,
							#{teacher_name},
							#{teacher_phone},
							#{teacher_addr},
							#{teacher_gen},
							#{teacher_career},
							#{teacher_img},
							#{teacher_type})
	</insert>
	
	<insert id="insertMember" parameterType="com.ict5.db.VO">
 		 insert into MEMBER_T (
  		 	member_num, member_id, member_name, member_gen, member_birth,
    		member_signup_date, member_addr, member_pw, member_mail,
    		member_point, member_chargep, member_usep, member_phone)
  		values (
   	 		member_t_seq.nextval, #{member_id}, #{member_name}, #{member_gen},
   	 		TO_DATE(#{member_birth}, 'YYYY-MM-DD HH24:MI:SS'), TO_DATE(#{member_signup_date}, 'YYYY-MM-DD HH24:MI:SS'),
    		#{member_addr}, #{member_pw}, #{member_mail}, 50000, null, null, #{member_phone})
	</insert>

	<insert  id="inNotice" parameterType="com.ict5.db.VO">
	insert into notice(notice_num,notice_text)
	values(notice_seq.nextval, #{notice_text})
	</insert>

</mapper>